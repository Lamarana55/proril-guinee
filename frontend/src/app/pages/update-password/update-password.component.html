<div class="wrapper wrapper-full-page ">
    <div class="full-page lock-page section-image" filter-color="black" data-image="./assets/img/bg/unicef-bg-1.png">
        <!--   you can change the color of the filter page using: data-color="blue | green | orange | red | purple" -->
        <div class="content">
            <div class="container">
                <div class="col-lg-6 col-md-12 ml-auto mr-auto">
                    <div class="card card-lock text-center">
                        <div class="card-header ">
                            <img src="./assets/img/logo-mgf.png" alt="...">
                        </div>
                        <div class="card-body  ">
                            <p class="card-title text-primary"> Changement de mots de passe</p>
                            <div class="text-justify h5 m-4">
                                <div class=" justify-content-center">
                                    <form [formGroup]="updatePasswordForm">

                                        <div class="input-group" [ngClass]="{'input-group-focus':focus===true}">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text">
                                                    <i class="nc-icon nc-key-25"></i>
                                                </span>
                                            </div>
                                            <input id="newPasswordTxt" [type]="fieldTextType ? 'text' : 'password'" formControlName="newPassword"
                                                [ngClass]="{'form-control': true, 'is-invalid': hasError('newPassword')}"
                                                placeholder="Nouveau mot de passe" (focus)="focus=true"
                                                (blur)="focus=false">
                                            <div class="input-group-append">
                                                <span class="input-group-text">
                                                    <i class="fa"
                                                      [ngClass]="{
                                                        'fa-eye-slash': !fieldTextType,
                                                        'fa-eye': fieldTextType
                                                      }"
                                                      (click)="toggleFieldTextType()"
                                                    ></i>
                                                  </span>
                                            </div>
                                        </div>

                                        <div class="input-group" [ngClass]="{'input-group-focus':focus===true}">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text">
                                                    <i class="nc-icon nc-key-25"></i>
                                                </span>
                                            </div>
                                            <input id="confirmationTxt" [type]="fieldTextTypeConfirm ? 'text' : 'password'" formControlName="confirmation"
                                                [ngClass]="{'form-control': true, 'is-invalid': hasError('confirmation')}"
                                                placeholder="Confirmer " (focus)="focus=true"
                                                (blur)="focus=false">
                                            <div class="input-group-append">
                                                <span class="input-group-text">
                                                    <i
                                                      class="fa"
                                                      [ngClass]="{
                                                        'fa-eye-slash': !fieldTextTypeConfirm,
                                                        'fa-eye': fieldTextTypeConfirm
                                                      }"
                                                      (click)="toggleFieldTextTypeConfirm()"
                                                    ></i>
                                                  </span>
                                            </div>
                                        </div>
                                        <br />
                                        <div class="form-group">
                                            <div class="text-center text-danger font-italic" *ngIf="serverError">
                                                <small>{{ serverMessage }}</small>
                                            </div>
                                        </div>
                                        
                                        <div class="d-flex justify-content-center align-items-center">
                                            <button type="button"
                                                class="btn btn-primary btn-round btn-block mb-3 clickable"
                                                [disabled]="updatePasswordForm.invalid || isLoading" (click)="onSubmit()">
                                                <span [ngClass]="isLoading ? 'spinner-border spinner-border-sm' : ''"
                                                    role="status" aria-hidden="true"></span>
                                                Envoyer
                                            </button>
                                            <!-- <a (click)="onSubmit()" class="btn btn-outline-primary btn-round mb-3 btn-block"  [disabled]="updatePasswordForm.invalid || isLoading" >Envoyer</a> -->
                                        </div>

                                    </form>
                                </div>

                            </div>

                        </div>

                    </div>
                </div>
            </div>
        </div>
        <footer class="footer footer-black  footer-white ">
            <div class="container">
                <div class="row">
                    <div class="credits ml-auto">
                        <span class="copyright">
                          &copy; {{test | date: 'yyyy'}}, Réalisée par  <a target="_blank" rel="noopener noreferrer" href="https://ande.gov.gn/" >ANDE GUINEE</a> 
                        </span>
                      </div>
                </div>
            </div>
        </footer>
    </div>
</div>