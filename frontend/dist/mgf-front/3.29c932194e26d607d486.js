(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"0Sq8":function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var n=r("fXoL"),i=function(){function t(){}return t.prototype.transform=function(t){if(t)return t>100?[5,10,25,50,t]:[5,10,25,50]},t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=n.Mb({name:"tableOptions",type:t,pure:!0}),t}()},"0z96":function(t,e,r){"use strict";r.d(e,"b",(function(){return a})),r.d(e,"a",(function(){return c}));var n=r("AytR"),i=r("fXoL"),o=r("tk/3"),u=n.a.apiUrl,a="produits",s="clients",c=function(){function t(t){this.http=t}return t.prototype.getAllProduits=function(t){var e=u+a+"?page="+t.page+"&size="+t.size;return t&&(e+=""),this.http.get(e)},t.prototype.getProduits=function(){return this.http.get(u+a+"/all")},t.prototype.getOneproduit=function(t){return this.http.get(u+a+"/"+t)},t.prototype.addProduit=function(t){return this.http.post(u+a,t)},t.prototype.updateProduit=function(t,e){return this.http.put(u+a+"/"+t,e)},t.prototype.deleteProduit=function(t){return this.http.delete(u+a+"/"+t)},t.prototype.getAllClients=function(t){var e=u+s+"?page="+t.page+"&size="+t.size;return t&&(e+=""),this.http.get(e)},t.prototype.getClients=function(){return this.http.get(u+s+"/all")},t.prototype.getOneClient=function(t){return this.http.get(u+s+"/"+t)},t.prototype.addClient=function(t){return this.http.post(u+s,t)},t.prototype.updateClient=function(t,e){return this.http.put(u+s+"/"+t,e)},t.prototype.deleteClient=function(t){return this.http.delete(u+s+"/"+t)},t.\u0275fac=function(e){return new(e||t)(i.bc(o.b))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"8THJ":function(t,e,r){"use strict";r.d(e,"a",(function(){return c}));var n=r("I/UU"),i=r("fXoL"),o=r("ofXK"),u=r("Xa2L");function a(t,e){if(1&t&&(i.Tb(0,"div",2),i.Ob(1,"mat-spinner",3),i.Sb()),2&t){var r=i.ic();i.Ab(1),i.pc("diameter",r.diameter)}}function s(t,e){1&t&&(i.Tb(0,"div",4),i.Jc(1," Une erreur est survenue lors du chargement, merci de r\xe9essayer plus tard!!!\n"),i.Sb())}var c=function(){function t(t){this.httpState=t,this.isLoading=!1,this.isError=!1,this.filterBy=null,this.diameter=40,this.display=!0,this.loadingEvent$=new i.o}return t.prototype.ngOnInit=function(){var t=this;this.httpState.state.subscribe((function(e){e&&e.url&&(t.filterBy?-1!==e.url.indexOf(t.filterBy)&&(t.isLoading=e.state===n.a.start,t.isError=e.isError):(t.isLoading=e.state===n.a.start,t.isError=e.isError),t.loadingEvent$.emit(t.isLoading))}))},t.\u0275fac=function(e){return new(e||t)(i.Nb(n.b))},t.\u0275cmp=i.Hb({type:t,selectors:[["app-spinner"]],inputs:{filterBy:"filterBy",diameter:"diameter",display:"display"},outputs:{loadingEvent$:"loadingEvent$"},decls:2,vars:2,consts:[["class","spinner-center",4,"ngIf"],["class","spinner-center text-danger font-italic",4,"ngIf"],[1,"spinner-center"],[3,"diameter"],[1,"spinner-center","text-danger","font-italic"]],template:function(t,e){1&t&&(i.Hc(0,a,2,1,"div",0),i.Hc(1,s,2,0,"div",1)),2&t&&(i.pc("ngIf",e.isLoading&&e.display),i.Ab(1),i.pc("ngIf",e.isError&&e.display))},directives:[o.m,u.b],styles:[".loading[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;background:rgba(0,0,0,.15);z-index:1;display:flex;align-items:center;justify-content:center}"]}),t}()},Edwt:function(t,e,r){"use strict";r.d(e,"a",(function(){return a})),r.d(e,"b",(function(){return s})),r.d(e,"c",(function(){return c})),r.d(e,"d",(function(){return l}));var n=r("AytR"),i=r("fXoL"),o=r("tk/3"),u=n.a.apiUrl,a="categories",s="groupements",c="marques",p=function(t){return!!t&&!isNaN(t)},d=function(t){var e="";return e+=p(t.idRegion)?"&idRegion="+t.idRegion:"",e+=p(t.idPrefecture)?"&idPrefecture="+t.idPrefecture:"",(e+=p(t.idCommune)?"&idCommune="+t.idCommune:"")+(p(t.idQuartier)?"&idQuartier="+t.idQuartier:"")},l=function(){function t(t){this.http=t}return t.prototype.getAllCategories=function(){return this.http.get(u+a)},t.prototype.getOneCategorie=function(t){return this.http.get(u+a+"/"+t)},t.prototype.addCategorie=function(t){return this.http.post(u+a,t)},t.prototype.updateCategorie=function(t,e){return this.http.put(u+a+"/"+t,e)},t.prototype.deleteCategorie=function(t){return this.http.delete(u+a+"/"+t)},t.prototype.getAllGroupements=function(t){var e=u+s+"?page="+t.page+"&size="+t.size;return t&&(e+=d(t)),this.http.get(e)},t.prototype.getGroupements=function(){return this.http.get(u+s+"/all")},t.prototype.getOneGroupement=function(t){return this.http.get(u+s+"/"+t)},t.prototype.addGroupement=function(t){return this.http.post(u+s,t)},t.prototype.updateGroupement=function(t,e){return this.http.put(u+s+"/"+t,e)},t.prototype.deleteGroupement=function(t){return this.http.delete(u+s+"/"+t)},t.prototype.getAllMarques=function(t){var e=u+c+"?page="+t.page+"&size="+t.size;return t&&(e+=d(t)),this.http.get(e)},t.prototype.getMarques=function(){return this.http.get(u+c+"/all")},t.prototype.getOneMarque=function(t){return this.http.get(u+c+"/"+t)},t.prototype.addMarque=function(t){return this.http.post(u+c,t)},t.prototype.updateMarque=function(t,e){return this.http.put(u+c+"/"+t,e)},t.prototype.deleteMarque=function(t){return this.http.delete(u+c+"/"+t)},t.\u0275fac=function(e){return new(e||t)(i.bc(o.b))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},S3Ys:function(t,e,r){"use strict";r.d(e,"a",(function(){return k}));var n=r("3Pt+"),i=r("6vGg"),o=r("D7GG"),u=r("0z96"),a=r("Edwt"),s=r("fXoL"),c=r("tyNb"),p=r("dNgK"),d=r("1kSV"),l=r("bTqV"),f=r("NFeN"),b=r("8THJ"),h=r("kmnG"),m=r("qFsG"),g=r("d3UM"),v=r("ofXK"),y=r("FKr1"),S=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function u(t){try{s(n.next(t))}catch(e){o(e)}}function a(t){try{s(n.throw(t))}catch(e){o(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(u,a)}s((n=n.apply(t,e||[])).next())}))},T=function(t,e){var r,n,i,o,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return u.label++,{value:o[1],done:!1};case 5:u.label++,n=o[1],o=[0];continue;case 7:o=u.ops.pop(),u.trys.pop();continue;default:if(!((i=(i=u.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){u=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){u.label=o[1];break}if(6===o[0]&&u.label<i[1]){u.label=i[1],i=o;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(o);break}i[2]&&u.ops.pop(),u.trys.pop();continue}o=e.call(t,u)}catch(a){o=[6,a],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};function w(t,e){if(1&t&&(s.Tb(0,"mat-option",22),s.Jc(1),s.Sb()),2&t){var r=e.$implicit;s.pc("value",r.id),s.Ab(1),s.Kc(r.libelle)}}function x(t,e){if(1&t&&(s.Tb(0,"mat-option",22),s.Jc(1),s.Sb()),2&t){var r=e.$implicit;s.pc("value",r.id),s.Ab(1),s.Kc(r.nom)}}var k=function(){function t(t,e,r,n,o,a,s,c){this.fb=t,this.route=e,this.router=r,this.parametrageService=n,this.gestionProduitService=o,this.utils=a,this.snackBar=s,this.modalService=c,this.isNew=!0,this.produitId=0,this.produitUrl=u.b,this.description=i.a}return t.prototype.ngOnInit=function(){this.produitId=this.route.snapshot.params.id,this.isNew=isNaN(this.produitId),this.groupements$=this.parametrageService.getGroupements(),this.categories$=this.parametrageService.getAllCategories(),this.initForm(),this.onEdit()},t.prototype.initForm=function(){this.produitForm=this.fb.group({nom:["",[n.u.required,n.u.minLength(2)]],poids:["",[n.u.required,n.u.pattern(i.e)]],prixUnit:["",[n.u.required,n.u.pattern(i.e)]],description:["",[n.u.required,n.u.minLength(i.a)]],groupement:this.fb.group({id:[null,[n.u.required,n.u.pattern(i.e)]]}),categorie:this.fb.group({id:[null,[n.u.required,n.u.pattern(i.e)]]})})},t.prototype.resetForm=function(){this.initForm(),this.produitForm.markAsPristine(),this.produitForm.markAsUntouched(),this.produitForm.updateValueAndValidity()},t.prototype.onSubmit=function(){return S(this,void 0,void 0,(function(){var t,e,r,n=this;return T(this,(function(i){switch(i.label){case 0:return this.produitForm.invalid?[3,3]:(e=t=this.produitForm.value,[4,this.parametrageService.getOneGroupement(t.groupement.id).toPromise()]);case 1:return e.groupement=i.sent(),r=t,[4,this.parametrageService.getOneCategorie(t.categorie.id).toPromise()];case 2:r.categorie=i.sent(),(this.isNew?this.gestionProduitService.addProduit(t):this.gestionProduitService.updateProduit(this.produitId,t)).subscribe((function(){n.utils.showNotif("Operation effectu\xe9e avec succ\xe8s","success"),n.isNew?n.resetForm():n.router.navigate(["gestion-produits/produits"])}),(function(t){n.utils.showNotif("Une erreur est survenue lors de l'op\xe9ration ","danger")})),i.label=3;case 3:return[2]}}))}))},t.prototype.mapProduit=function(){return S(this,void 0,void 0,(function(){var t;return T(this,(function(e){switch(e.label){case 0:return[4,this.gestionProduitService.getOneproduit(this.produitId).toPromise()];case 1:return t=e.sent(),this.produitForm.patchValue({nom:t.nom,poids:t.poids,prixUnit:t.prixUnit,description:t.description,groupement:{id:t.groupement.id},categorie:{id:t.categorie.id}}),[2]}}))}))},t.prototype.onEdit=function(){!this.isNew&&this.produitId>0&&this.mapProduit()},t.\u0275fac=function(e){return new(e||t)(s.Nb(n.c),s.Nb(c.a),s.Nb(c.e),s.Nb(a.d),s.Nb(u.a),s.Nb(o.a),s.Nb(p.a),s.Nb(d.a))},t.\u0275cmp=s.Hb({type:t,selectors:[["app-edit-produit"]],decls:75,vars:18,consts:[[1,"card"],[1,"card-header","bg-default"],[1,"row"],[1,"col-sm-12","form-inline"],["mat-mini-fab","","color","info","routerLink",".."],[1,"card-title","ml-1","text-white"],[1,"card-body"],[3,"filterBy","diameter"],["usrSpinner",""],[1,"col-md-8","offset-md-2","col-sm-12"],[3,"formGroup"],[1,"col-12"],["matInput","","type","text","formControlName","nom"],["matInput","","type","number","minlength","1","formControlName","poids"],["matInput","","type","number","formControlName","prixUnit"],["matInput","","formControlName","description"],["formGroupName","categorie"],["formControlName","id"],[3,"value",4,"ngFor","ngForOf"],["formGroupName","groupement"],[1,"text-center"],["type","button","mat-raised-button","","color","primary",3,"disabled","click"],[3,"value"]],template:function(t,e){if(1&t&&(s.Tb(0,"div",0),s.Tb(1,"div",1),s.Tb(2,"div",2),s.Tb(3,"div",3),s.Tb(4,"button",4),s.Tb(5,"mat-icon"),s.Jc(6,"reply"),s.Sb(),s.Sb(),s.Tb(7,"h2",5),s.Jc(8),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Tb(9,"div",6),s.Ob(10,"app-spinner",7,8),s.Tb(12,"div",2),s.Tb(13,"div",9),s.Tb(14,"div"),s.Tb(15,"form",10),s.Tb(16,"div",2),s.Tb(17,"div",11),s.Tb(18,"mat-form-field"),s.Tb(19,"mat-label"),s.Jc(20,"Nom Produit *"),s.Sb(),s.Ob(21,"input",12),s.Tb(22,"mat-error"),s.Jc(23,"La produit est obligatoire et contient au moins 3 caract\xe8res"),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Tb(24,"div",2),s.Tb(25,"div",11),s.Tb(26,"mat-form-field"),s.Tb(27,"mat-label"),s.Jc(28,"Poids Produit *"),s.Sb(),s.Ob(29,"input",13),s.Tb(30,"mat-error"),s.Jc(31,"Le poids est obligatoire et contient au moins 3 caract\xe8res"),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Tb(32,"div",2),s.Tb(33,"div",11),s.Tb(34,"mat-form-field"),s.Tb(35,"mat-label"),s.Jc(36,"Prix Unitaire Produit *"),s.Sb(),s.Ob(37,"input",14),s.Tb(38,"mat-error"),s.Jc(39,"Le prix unitaire est obligatoire "),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Tb(40,"div",2),s.Tb(41,"div",11),s.Tb(42,"mat-form-field"),s.Tb(43,"mat-label"),s.Jc(44,"Description *"),s.Sb(),s.Ob(45,"textarea",15),s.Tb(46,"mat-error"),s.Jc(47),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Tb(48,"div",16),s.Tb(49,"div",2),s.Tb(50,"div",11),s.Tb(51,"mat-form-field"),s.Tb(52,"mat-label"),s.Jc(53,"Categorie *"),s.Sb(),s.Tb(54,"mat-select",17),s.Hc(55,w,2,2,"mat-option",18),s.jc(56,"async"),s.Sb(),s.Tb(57,"mat-error"),s.Jc(58,"La categorie est obligatoire"),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Tb(59,"div",19),s.Tb(60,"div",2),s.Tb(61,"div",11),s.Tb(62,"mat-form-field"),s.Tb(63,"mat-label"),s.Jc(64,"Groupement *"),s.Sb(),s.Tb(65,"mat-select",17),s.Hc(66,x,2,2,"mat-option",18),s.jc(67,"async"),s.Sb(),s.Tb(68,"mat-error"),s.Jc(69,"Le groupement est obligatoire"),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Tb(70,"div",20),s.Tb(71,"button",21),s.ec("click",(function(){return e.onSubmit()})),s.jc(72,"async"),s.jc(73,"async"),s.Jc(74," Enregistrer "),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Sb()),2&t){var r=s.xc(11);s.Ab(8),s.Lc(" ",e.isNew?"Enregistrement d'un produit":"Modification d'un produit "," "),s.Ab(2),s.pc("filterBy",e.produitUrl)("diameter",30),s.Ab(5),s.pc("formGroup",e.produitForm),s.Ab(32),s.Lc("La description est obligatoire et contient au moins ",e.description," caract\xe8res"),s.Ab(8),s.pc("ngForOf",s.kc(56,10,e.categories$)),s.Ab(11),s.pc("ngForOf",s.kc(67,12,e.groupements$)),s.Ab(5),s.Fb("spinner",s.kc(72,14,r.loadingEvent$)),s.pc("disabled",e.produitForm.invalid||s.kc(73,16,r.loadingEvent$))}},directives:[l.a,c.f,f.a,b.a,n.w,n.m,n.e,h.c,h.f,m.a,n.b,n.l,n.d,h.b,n.q,n.h,n.f,g.a,v.l,y.j],pipes:[v.b],styles:['.mat-form-field[_ngcontent-%COMP%]{font-size:17px;width:100%}@-webkit-keyframes spinner{to{transform:rotate(1turn)}}@keyframes spinner{to{transform:rotate(1turn)}}.spinner[_ngcontent-%COMP%]:before{content:"";box-sizing:border-box;position:absolute;top:50%;left:50%;width:20px;height:20px;margin-top:-10px;margin-left:-10px;border-radius:50%;border:2px solid #fff;border-top-color:#000;-webkit-animation:spinner .8s linear infinite;animation:spinner .8s linear infinite}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none}']}),t}()},d414:function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var n=r("PSD3"),i=r.n(n),o=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function u(t){try{s(n.next(t))}catch(e){o(e)}}function a(t){try{s(n.throw(t))}catch(e){o(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(u,a)}s((n=n.apply(t,e||[])).next())}))},u=function(t,e){var r,n,i,o,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return u.label++,{value:o[1],done:!1};case 5:u.label++,n=o[1],o=[0];continue;case 7:o=u.ops.pop(),u.trys.pop();continue;default:if(!((i=(i=u.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){u=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){u.label=o[1];break}if(6===o[0]&&u.label<i[1]){u.label=i[1],i=o;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(o);break}i[2]&&u.ops.pop(),u.trys.pop();continue}o=e.call(t,u)}catch(a){o=[6,a],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};function a(t){return function(e,r,n){var a=n.value,s={title:"Suppression",html:"Voulez-vous effectuer cette op\xe9ration?",showCancelButton:!0,confirmButtonText:"OUI",cancelButtonText:"NON",icon:"question",confirmButtonColor:"#F15F6B",cancelButtonColor:"#006d5b"};return t&&Object.keys(t).forEach((function(e){return s[e]=t[e]})),n.value=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,i.a.fire(s)];case 1:return e.sent().isConfirmed?[2,a.apply(this,t)]:[2]}}))}))},n}}}}]);